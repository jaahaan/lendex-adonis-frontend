(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{320:function(e,r,t){"use strict";t.r(r);t(20),t(57);var o=t(2),n=(t(31),{data:function(){return{loading:!1,visible:!1,imgName:"",opening:null,formValue:{id:"",companyName:"",ownerName:"",contact:"",ownerContact:"",address:"",facebookLink:"",companyLogo:"",favIcon:"",opening_date:"",currencyType:"",referenceBonus:"",refererBonus:"",companyInfo:"",vat_no:"",extraAddress:"",isShippingFree:"",shippingFreeAfter:1e3,supportEmail:"",websiteLink:"",supportContact:"",invoiceTag:"",isAmountUpdate:!1},errorMessages:{companyName:"",ownerName:"",contact:"",ownerContact:"",address:"",facebookLink:"",companyLogo:"",favIcon:"",opening_date:"",currencyType:"",referenceBonus:"",refererBonus:"",companyInfo:"",vat_no:"",extraAddress:"",supportEmail:"",websiteLink:"",supportContact:"",invoiceTag:"",isAmountUpdate:!1},logo:"",logoUploadList:[],faviconUploadList:[]}},methods:{handleDateChange:function(e){this.formValue.opening_date=e},handleSuccess:function(e,r){this.formValue.companyLogo=e.imageUrl,r.url=e.imageUrl,r.name=e.imageUrl,this.logoUploadList=[],this.logoUploadList.push(r),console.log(r)},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleIconSuccess:function(e,r){this.formValue.favIcon=e.imageUrl,r.url=e.imageUrl,r.name=e.imageUrl,this.faviconUploadList=[],this.faviconUploadList.push(r),console.log(r)},handleIconFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select png or ico."})},handleIconMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleView:function(e,r){this.imgName=e,this.visible=!0},handleRemove:function(e){"logo"==e?(this.formValue.companyLogo="",this.logoUploadList=[]):(this.formValue.favIcon="",this.faviconUploadList=[])},settingSave:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=!0,e.clearErrorMessages(),""!=e.formValue.companyName&&""!=e.formValue.companyName.trim()||(e.errorMessages.companyName="Company Name is required!",t=!1),""!=e.formValue.ownerName&&""!=e.formValue.ownerName.trim()||(e.errorMessages.ownerName="Owner Name is required!",t=!1),""==e.formValue.contact&&(t=!1,e.errorMessages.contact="Contact is required!"),""==e.formValue.ownerContact&&(t=!1,e.errorMessages.ownerContact="Owner Contact is required!"),""!=e.formValue.address&&""!=e.formValue.address.trim()||(t=!1,e.errorMessages.address="Company Address is required!"),""==e.formValue.opening_date&&(t=!1,e.errorMessages.opening_date="Opening Date is required!"),""!=e.formValue.facebookLink&&""!=e.formValue.facebookLink.trim()||(t=!1,e.errorMessages.facebookLink="Facebook is required!"),""==e.formValue.companyLogo&&(t=!1,e.errorMessages.companyLogo="Company Logo is required!"),""==e.formValue.favIcon&&(t=!1,e.errorMessages.favIcon="FavIcon is required!"),""==e.formValue.currencyType&&(e.errorMessages.currencyType="Currency Type is required!"),""!=e.formValue.referenceBonus&&""!=e.formValue.referenceBonus.trim()||(t=!1,e.errorMessages.referenceBonus="Reference Bonus is required!"),""!=e.formValue.refererBonus&&""!=e.formValue.refererBonus.trim()||(t=!1,e.errorMessages.refererBonus="Referer Bonus is required!"),""==e.formValue.companyInfo&&(t=!1,e.errorMessages.companyInfo="Company Info is required!"),""!=e.formValue.supportEmail&&""!=e.formValue.supportEmail.trim()||(t=!1,e.errorMessages.supportEmail="Support Email is required!"),""!=e.formValue.websiteLink&&""!=e.formValue.websiteLink.trim()||(t=!1,e.errorMessages.websiteLink="Website is required!"),""==e.formValue.supportContact&&(t=!1,e.errorMessages.supportContact="Support Contact is required!"),""==e.formValue.invoiceTag&&(t=!1,e.errorMessages.invoiceTag="Invoice Tag is required!"),0!=t){r.next=21;break}return r.abrupt("return",e.$Message.error("Validation Fail!"));case 21:return e.loading=!0,r.next=24,e.callApi("put","/app/setting",e.formValue);case 24:if(200==(o=r.sent).status)e.s("Great!","Settings information has been added successfully!"),setTimeout((function(){window.location="/settings"}),2e3);else if(422==o.status){for(n in o.data)e.e(o.data[n]);e.loading=!1}else e.e("Oops!","Something went wrong, please try again!");e.loading=!1;case 27:case"end":return r.stop()}}),r)})))()},clearErrorMessages:function(){this.errorMessages={companyName:"",ownerName:"",contact:"",ownerContact:"",address:"",facebookLink:"",companyLogo:"",favIcon:"",opening_date:"",currencyTypeType:"",referenceBonus:"",refererBonus:"",companyInfo:"",vat_no:"",extraAddress:"",supportEmail:"",websiteLink:"",supportContact:"",invoiceTag:"",isAmountUpdate:!1}}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.callApi("get","/app/setting");case 2:((t=r.sent).status=200)?(e.formValue=t.data,e.logoUploadList=[],o={url:t.data.companyLogo,name:t.data.companyLogo,status:"finished"},e.logoUploadList.push(o),e.faviconUploadList=[],o={url:t.data.favIcon,name:t.data.favIcon,status:"finished"},e.faviconUploadList.push(o)):e.swr();case 4:case"end":return r.stop()}}),r)})))()}}),l=t(26),component=Object(l.a)(n,(function(){var e=this,r=e._self._c;return r("div",[r("div",{staticClass:"container"},[r("div",[r("Breadcrumb",[r("BreadcrumbItem",{attrs:{to:"/"}},[e._v("Dashboard")]),e._v(" "),r("BreadcrumbItem",{attrs:{to:"/settings"}},[e._v("Settings")]),e._v(" "),r("BreadcrumbItem",[e._v("Edit")])],1)],1),e._v(" "),r("div",{staticClass:"common-page-card"},[r("Form",{ref:"formValue",attrs:{model:e.formValue,"label-position":"top"}},[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Company Name",error:e.errorMessages.companyName,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"Company Name"},model:{value:e.formValue.companyName,callback:function(r){e.$set(e.formValue,"companyName",r)},expression:"formValue.companyName"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Owner Name",error:e.errorMessages.ownerName,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"Owner Name"},model:{value:e.formValue.ownerName,callback:function(r){e.$set(e.formValue,"ownerName",r)},expression:"formValue.ownerName"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Contact",error:e.errorMessages.contact,required:!0}},[r("Input",{attrs:{type:"number",placeholder:"Contact Number"},model:{value:e.formValue.contact,callback:function(r){e.$set(e.formValue,"contact",r)},expression:"formValue.contact"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Owner Contact",error:e.errorMessages.ownerContact,required:!0}},[r("Input",{attrs:{type:"number",placeholder:"Owner Contact Number"},model:{value:e.formValue.ownerContact,callback:function(r){e.$set(e.formValue,"ownerContact",r)},expression:"formValue.ownerContact"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Company Address",error:e.errorMessages.address,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"Company Address"},model:{value:e.formValue.address,callback:function(r){e.$set(e.formValue,"address",r)},expression:"formValue.address"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Openning Date",error:e.errorMessages.opening_date,required:!0}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{size:"large",type:"date",format:"yyyy-MM-dd",placeholder:"Enter Start Date"},on:{"on-change":e.handleDateChange},model:{value:e.formValue.opening_date,callback:function(r){e.$set(e.formValue,"opening_date",r)},expression:"formValue.opening_date"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Support Email",error:e.errorMessages.supportEmail,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"supportEmail"},model:{value:e.formValue.supportEmail,callback:function(r){e.$set(e.formValue,"supportEmail",r)},expression:"formValue.supportEmail"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Support Contact",error:e.errorMessages.supportContact,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"supportContact"},model:{value:e.formValue.supportContact,callback:function(r){e.$set(e.formValue,"supportContact",r)},expression:"formValue.supportContact"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Website Link",error:e.errorMessages.websiteLink,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"website Link"},model:{value:e.formValue.websiteLink,callback:function(r){e.$set(e.formValue,"websiteLink",r)},expression:"formValue.websiteLink"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Facebook Link",error:e.errorMessages.facebookLink,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"facebook Link"},model:{value:e.formValue.facebookLink,callback:function(r){e.$set(e.formValue,"facebookLink",r)},expression:"formValue.facebookLink"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Currency Type",error:e.errorMessages.currencyType,required:!0}},[r("Select",{attrs:{placeholder:"Select Currency",filterable:""},model:{value:e.formValue.currencyType,callback:function(r){e.$set(e.formValue,"currencyType",r)},expression:"formValue.currencyType"}},e._l(e.currencyList,(function(t,o){return r("Option",{key:o,attrs:{value:t.cc}},[e._v(e._s(t.name)+" - "+e._s(t.symbol))])})),1)],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Invoice Tag",error:e.errorMessages.invoiceTag,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"invoiceTag"},model:{value:e.formValue.invoiceTag,callback:function(r){e.$set(e.formValue,"invoiceTag",r)},expression:"formValue.invoiceTag"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Reference Bonus",error:e.errorMessages.referenceBonus,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"Reference Bonus",max:100,min:0,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")}},model:{value:e.formValue.referenceBonus,callback:function(r){e.$set(e.formValue,"referenceBonus",r)},expression:"formValue.referenceBonus"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Referer Bonus",error:e.errorMessages.refererBonus,required:!0}},[r("Input",{attrs:{type:"text",placeholder:"Bonus Amount"},model:{value:e.formValue.refererBonus,callback:function(r){e.$set(e.formValue,"refererBonus",r)},expression:"formValue.refererBonus"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Minimum Deposit Point"}},[r("Input",{attrs:{type:"number",placeholder:"Minimum Deposit Point"},model:{value:e.formValue.min_points,callback:function(r){e.$set(e.formValue,"min_points",r)},expression:"formValue.min_points"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Membership Discount"}},[r("Input",{attrs:{type:"number",placeholder:"Membership Discount"},model:{value:e.formValue.membership_discount,callback:function(r){e.$set(e.formValue,"membership_discount",r)},expression:"formValue.membership_discount"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Free Shipping"}},[r("Checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formValue.isShippingFree,callback:function(r){e.$set(e.formValue,"isShippingFree",r)},expression:"formValue.isShippingFree"}},[e._v("Free Shipping")])],1)],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[e.formValue.isShippingFree?e._e():[r("FormItem",{attrs:{label:"Free Shipping After"}},[r("InputNumber",{attrs:{min:0},model:{value:e.formValue.shippingFreeAfter,callback:function(r){e.$set(e.formValue,"shippingFreeAfter",r)},expression:"formValue.shippingFreeAfter"}})],1)]],2),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Company Logo",error:e.errorMessages.companyLogo,required:!0}},[r("div",[e._l(e.logoUploadList,(function(t){return r("div",{staticClass:"demo-upload-list"},["finished"===t.status?[r("img",{attrs:{src:t.url}}),e._v(" "),r("div",{staticClass:"demo-upload-list-cover"},[r("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(r){return e.handleView(t.name)}}}),e._v(" "),r("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(r){return e.handleRemove("logo")}}})],1)]:[t.showProgress?r("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)})),e._v(" "),r("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{headers:e.crfObj,name:"img","show-upload-list":!1,"default-file-list":[],"on-success":e.handleSuccess,format:["jpg","jpeg","png","webp"],"max-size":2048,data:{type:"gallery"},"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,type:"drag",action:"/app/setting/upload"}},[r("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[r("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],2)])],1),e._v(" "),r("Col",{attrs:{xs:24,sm:24,md:12,lg:12}},[r("FormItem",{attrs:{label:"Favicon",error:e.errorMessages.favIcon,required:!0}},[r("div",[e._l(e.faviconUploadList,(function(t){return r("div",{staticClass:"demo-upload-list"},["finished"===t.status?[r("img",{attrs:{src:t.url}}),e._v(" "),r("div",{staticClass:"demo-upload-list-cover"},[r("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(r){return e.handleView(t.name)}}}),e._v(" "),r("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(r){return e.handleRemove("Favicon")}}})],1)]:[t.showProgress?r("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)})),e._v(" "),r("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{headers:e.crfObj,name:"img","show-upload-list":!1,"default-file-list":[],"on-success":e.handleIconSuccess,format:["png","ico"],"max-size":2048,data:{type:"gallery"},"on-format-error":e.handleIconFormatError,"on-exceeded-size":e.handleIconMaxSize,type:"drag",action:"/app/setting/upload"}},[r("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[r("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],2)])],1)],1),e._v(" "),r("br"),e._v(" "),r("Row",[r("Col",{attrs:{span:"24"}},[r("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",loading:e.loading},on:{click:e.settingSave}},[e.loading?r("span",[e._v("Please Wait...")]):r("span",[e._v("Save")])]),e._v(" "),r("Button",{on:{click:function(r){return e.$router.push("/settings")}}},[r("span",[e._v("Cancel")])])],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}})],1)],1)],1)]),e._v(" "),r("Modal",{attrs:{title:"View Image"},model:{value:e.visible,callback:function(r){e.visible=r},expression:"visible"}},[e.visible?r("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e()])],1)}),[],!1,null,null,null);r.default=component.exports}}]);